<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html xmlns:o=""><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"></meta><link rel="stylesheet" type="text/css" href="v8help://service_book/service_style"></link><meta name="GENERATOR" content="MSHTML 11.00.9600.18525"></meta></head><body>
<h1>План обмена "Обмен Управление нашей фирмой - Сайт"</h1>
<p><br>План обмена позволяет выполнять обмен данными (выгружать номенклатуру и обмениваться заказами покупателей) с сайтами (интернет-магазинами) поддерживающими обмен по стандарту <strong>CommerceML 2.05</strong>.<br><br>Для того, чтобы начать обмен между информационной базой и сайтом, необходимо создать и настроить узел обмена. Для этого нужно нажать на команду <strong>"Создать"</strong> формы списка узлов обмена. После выполнения команды будет вызван помощник настроек обмена с сайтами, позволяющий создать узел обмена и выполнить все необходимые настройки. Для каждого сайта необходимо создать свой узел обмена.</p>
<p>В программе предусмотрены следующие режимы обмена:</p>
<ul><li>Выгрузка всех данных, участвующих в обмене. Выполняется по команде <strong>"Выполнить полный обмен данными"</strong> в форме списка или форме узла плана обмена. 
</li><li>Выгрузка только тех объектов, которые изменились с момента последнего успешного сеанса обмена. Выполняется по команде <strong>"Выполнить обмен данными"</strong>. <br></li></ul><p class="Important">Важно. При первом сеансе обмена в новом или измененном узле обмена, независимо от команды запустившей обмен, будет выполнена полная выгрузка данных.</p>
<p><br>Форма узла обмена содержит несколько страниц, содержащих общие настройки обмена, а так же настройки для выгрузки номенклатуры и настройки для обмена заказами.</p>
<p><strong>Страница "Основные настройки".</strong></p>
<p>В группе <b>"Режим обмена данными"</b> выполняется настройка режимов обмена:</p>
<ul><li>если будет производится только выгрузка товаров, устанавливается флажок <strong>"Выгрузка товаров"</strong>; 
</li><li>если будет производится только обмен заказами, устанавливается флажок <b>"Обмен заказами"</b>; 
</li><li>если будет производится и выгрузка товаров и обмен заказами, устанавливаются оба флажка.</li></ul><p><br>В группе <strong>"Назначение"</strong> настраивается подключение к сайту. Программа позволяет обмениваться с сайтом следующими способами:</p>
<ul><li>Непосредственно с сайтом (требуется подключение к сети Интернет). Для этого необходимо установить переключатель в группе <b>"Назначение"</b> в положение <b>"Выгружать на сайт"</b>. Далее указать адрес сайта, пользователя сайта (под которым будет производится подключение к сайту для обмена) и его пароль. C помощью команды <b>"Проверить соединение"</b> можно проконтролировать корректность введенных данных и узнать о возможности начать обмен с сайтом. 
</li><li>Посредством выгрузки/загрузки данных через промежуточные каталоги (не требуется подключение к сети Интернет). Для этого необходимо установить переключатель в группе <b>"Назначение"</b> в положение <b>"Выгружать в каталог на диске"</b>. Далее указать каталог на диске (поле <b>"Каталог выгрузки"</b>) в который будут выгружаться файлы обмена (при клиент-серверном варианте работы каталог выгрузки будет создан на сервере 1С). Если предполагается обмен заказами, то дополнительно нужно указать полное имя файла с заказами (поле <b>"Файл загрузки заказов"</b>), который будет формироваться на сайте.</li></ul><p><br>Программа позволяет обмениваться с сайтом в автоматическом режиме при помощи регламентного задания <b>"Обмен с сайтом"</b>. Для задания настроек необходимо установить флажок <b>"Использовать периодический обмен данными"</b> и установить расписание обмена.</p>
<p><strong>Страница "Выгрузка товаров".</strong></p>
<p>На странице устанавливаются настройки выгрузки товаров из информационной базы.</p>
<p class="Important">Важно. Для того, чтобы на сайт выгружались цены номенклатуры, необходимо выбрать один или несколько видов цен.  Для выбора доступны виды цен со способом расчета "Вручную" и "Рассчитывается".</p>
<p>Опция <strong>"Выгружать остатки по складам"</strong> определяет возможность передачи на сайт информации о наличии товаров на складах предприятия. При этом на сайт выгружается информация о складах (наименование, контактная информация) и о количестве товара на складе.<br><br>Программа позволяет выгружать на сайт изображения, присоединенные к номенклатуре. Для включения этого механизма необходимо установить флажок <strong>"Выгружать файлы изображений"</strong>.</p>
<p>В группе <strong>"Таблица каталогов"</strong> настраивается соответствие каталогов номенклатуры инфоблокам сайта. Каждый каталог соответствует инфоблоку сайта. Для каждого инфоблока программа автоматически генерирует идентификатор каталога, который не рекомендуется менять. Для каждого каталога можно задать произвольное имя в поле "Каталог", отбор по группам номенклатуры и при необходимости <a name="ebf9777b737347d59d19de2295b6fd7297b0a6001a6411a09811e03d9788c7a4b5">установить дополнительные отборы по:</a></p>
<ul><li>
<div>конкретным позициям номенклатуры; </div>
</li><li>количеству остатков номенклатуры. Выгрузка товаров на сайт не будет производится, если количество товарных остатков меньше указанного в фильтре значения; 
</li><li>
<div>складу для остатков. Можно задать склад или список складов, остатки с которых будут выгружаться на сайт; </div>
</li><li>
<div>произвольному фильтру. Можно составить любой другой отбор для номенклатуры.</div></li></ul><p>Для установки отбора необходимо выделить строку таблицы каталогов и нажать на команду <strong>"Настроить отбор"</strong>.<strong> </strong>Далее в форме отбора задать значения описанных выше фильтров и нажать на команду <strong>"Завершить редактирование" </strong>для сохранения настроек. Если необходимо временно отключить какой-либо отбор, не удаляя значение отбора, нужно снять флажок рядом с наименованием отбора.</p>
<p><strong>Страница "Обмен заказами".</strong></p>
<p>Обмен заказами происходит в два этапа: сначала загрузка с сайта, затем выгрузка на сайт (или в каталог на диске). По заказам, загруженным с сайта, формируются документы <a href="Document.ЗаказПокупателя/Help">"Заказ покупателя"</a>. При последующих сеансах обмена табличные части документов обновляются в соответствии с информацией, полученной с сайта. В ответном сообщении на сайт отправляется информация об оплате и отгрузке по заказам, ранее загруженным с сайта. Контрагенты и номенклатура, полученные с сайта, идентифицируются в соответствующих справочниках. Объекты, которые не найдены, создаются.</p>
<p>В поле <strong>"Способ загрузки контрагентов"</strong> задается способ, в соответствии с которым контрагент указанный в заказе на сайте будет сопоставляться с контрагентами в информационной базе. Возможны следующие способы:</p>
<ul><li>Поиск по наименованию; 
</li><li>Поиск по ИНН + КПП; 
</li><li>Не создавать. При загрузке заказа в информационную базу в документ <a href="Document.ЗаказПокупателя/Help">"Заказ покупателя"</a> будет подставлен заранее определенный контрагент, указанный в поле <strong>"Контрагент для подстановки в заказы"</strong>. </li></ul><p><br>В полях <strong>"Группа для новой номенклатуры"</strong> и <strong>"Группа для новых контрагентов"</strong> можно указать группы, в которые при загрузке заказов с сайта будут загружены элементы, не найденные в информационной базе. Если группы не заданы, не найденные элементы будут загружены в общий список.</p>
<p>Способ определения состояния заказа покупателя при выгрузке на сайт и загрузке с сайта в информационную базу зависит от флажка <strong>"Использовать несколько состояний заказов покупателей (три и более)"</strong> (расположен на закладке <strong>"Продажи"</strong> формы настроек параметров учета):</p>
<ul><li>если флажок установлен, становится видимой табличная часть <strong>"Соответствие статусов заказов"</strong>, в которой в поле <b>"Статус заказа на сайте"</b> строкой указывается значение статуса заказа на сайте, а в поле <b>"Состояние документа "Заказ покупателя""</b> задается соответствующий ему статус заказа в информационной базе. Если соответствие статусов установлено, при загрузке заказа с сайта программа выполняет поиск соответствующего ему состояния документа <a href="Document.ЗаказПокупателя/Help">"Заказ покупателя"</a> в информационной базе. При этом если состояние документа <a href="Document.ЗаказПокупателя/Help">"Заказ покупателя"</a>, соответствующее статусу полученному с сайта не найдено, у заказа устанавливается состояние по умолчанию. Для передачи информации об оплате или отгрузке заказа на сайт, необходимо изменить состояние документа <a href="Document.ЗаказПокупателя/Help">"Заказ покупателя"</a> и перезаписать документ. 
</li><li>если флажок не установлен, настройка соответствия статусов заказов не требуется. При загрузке заказа с сайта состояние документа <a href="Document.ЗаказПокупателя/Help">"Заказ покупателя"</a> в информационной базе определяется в соответствии со значениями состояний, заданными в настройках параметров учета. Информация об оплате/отгрузке заказа для передачи на сайт регистрируется автоматически при проведении документов оплаты/отгрузки. При этом заказ считается оплаченным/отгруженным, если он проведен и оплата/отгрузка по нему произведена полностью.</li></ul><p><strong><br>Просмотр информации по обмену.</strong></p>
<p><a name="ebf9777b737347d59d19de2295b6fd7297b0a6001a6411a09811e03d9788c7a4b5">В форме списка узлов или форме узла обмена можно выполнять следующие действия:</a></p>
<ul style="MARGIN-LEFT: 40px"><li>посмотреть информацию о состоянии и событиях обмена; 
</li><li>посмотреть изменения в информационной базе, произошедшие с момента последнего обмена с сайтом.<br></li></ul><p><a name="ebf9777b737347d59d19de2295b6fd7297b0a6001a6411a09811e03d9788c7a4b5">Для того, чтобы посмотреть текущее состояние обмена, нужно открыть форму списка узлов обмена, в которой для каждого узла обмена отображается следующая информация: успешно или нет была произведена загрузка/выгрузка, дата и время последней загрузки/выгрузки. Информацию о выгрузке товаров и выгрузке/загрузке заказов можно расшифровать более детально.</a> Для этого необходимо воспользоваться командами <strong>"Выполнение обмена данными" - "События загрузки данных/События выгрузки данных"</strong>.</p>
<p><a name="ebf9777b737347d59d19de2295b6fd7297b0a6001a6411a09811e03d9788c7a4b5">Для того, чтобы посмотреть информацию об изменениях в информационной базе, которые будут выгружены на сайт в следующем сеансе обмена, необходимо воспользоваться командой <strong>"Выполнение обмена данными" - "Показать зарегистрированные изменения"</strong>. После выполнения команды будет открыта форма, показывающая объекты участвующие в обмене с сайтом и зарегистрированные для них изменения.</a><a name="ebf9777b737347d59d19de2295b6fd7297b0a6001a6411a09811e03d9788c7a4b5"> Любую регистрацию изменений объекта можно удалить из списка. Для этого необходимо в поле объекта нажать кнопку очистки.</a></p>
<p> </p></body></html>