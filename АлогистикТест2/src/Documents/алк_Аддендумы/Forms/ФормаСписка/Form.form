<?xml version="1.0" encoding="UTF-8"?>
<form:Form xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:core="http://g5.1c.ru/v8/dt/mcore" xmlns:form="http://g5.1c.ru/v8/dt/form">
  <items xsi:type="form:FormGroup">
    <name>СписокКомпоновщикНастроекПользовательскиеНастройки</name>
    <id>1</id>
    <visible>true</visible>
    <enabled>true</enabled>
    <userVisible>
      <common>true</common>
    </userVisible>
    <title>
      <key>ru</key>
      <value>Группа пользовательских настроек</value>
    </title>
    <verticalStretch>false</verticalStretch>
    <extendedTooltip>
      <name>СписокКомпоновщикНастроекПользовательскиеНастройкиРасширеннаяПодсказка</name>
      <id>2</id>
      <type>Label</type>
      <autoMaxWidth>true</autoMaxWidth>
      <autoMaxHeight>true</autoMaxHeight>
      <extInfo xsi:type="form:LabelDecorationExtInfo">
        <horizontalAlign>Left</horizontalAlign>
      </extInfo>
    </extendedTooltip>
    <type>UsualGroup</type>
    <extInfo xsi:type="form:UsualGroupExtInfo">
      <group>Vertical</group>
      <behavior>Auto</behavior>
      <representation>WeakSeparation</representation>
      <showLeftMargin>true</showLeftMargin>
      <united>true</united>
      <throughAlign>Auto</throughAlign>
      <currentRowUse>Auto</currentRowUse>
    </extInfo>
  </items>
  <items xsi:type="form:Table">
    <name>Список</name>
    <id>3</id>
    <visible>true</visible>
    <enabled>true</enabled>
    <userVisible>
      <common>true</common>
    </userVisible>
    <dataPath xsi:type="form:DataPath">
      <segments>Список</segments>
    </dataPath>
    <defaultItem>true</defaultItem>
    <titleLocation>None</titleLocation>
    <items xsi:type="form:FormField">
      <name>Ссылка</name>
      <id>16</id>
      <visible>true</visible>
      <enabled>true</enabled>
      <userVisible/>
      <dataPath xsi:type="form:DataPath">
        <segments>Список.Ссылка</segments>
      </dataPath>
      <extendedTooltip>
        <name>СсылкаРасширеннаяПодсказка</name>
        <id>18</id>
        <type>Label</type>
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
        <extInfo xsi:type="form:LabelDecorationExtInfo">
          <horizontalAlign>Left</horizontalAlign>
        </extInfo>
      </extendedTooltip>
      <contextMenu>
        <name>СсылкаКонтекстноеМеню</name>
        <id>17</id>
        <autoFill>true</autoFill>
      </contextMenu>
      <type>LabelField</type>
      <editMode>Enter</editMode>
      <showInHeader>true</showInHeader>
      <headerHorizontalAlign>Left</headerHorizontalAlign>
      <showInFooter>true</showInFooter>
      <extInfo xsi:type="form:LabelFieldExtInfo">
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
      </extInfo>
    </items>
    <items xsi:type="form:FormField">
      <name>Дата</name>
      <id>19</id>
      <visible>true</visible>
      <enabled>true</enabled>
      <userVisible>
        <common>true</common>
      </userVisible>
      <dataPath xsi:type="form:DataPath">
        <segments>Список.Date</segments>
      </dataPath>
      <defaultItem>true</defaultItem>
      <extendedTooltip>
        <name>ДатаРасширеннаяПодсказка</name>
        <id>21</id>
        <type>Label</type>
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
        <extInfo xsi:type="form:LabelDecorationExtInfo">
          <horizontalAlign>Left</horizontalAlign>
        </extInfo>
      </extendedTooltip>
      <contextMenu>
        <name>ДатаКонтекстноеМеню</name>
        <id>20</id>
        <autoFill>true</autoFill>
      </contextMenu>
      <type>LabelField</type>
      <editMode>Enter</editMode>
      <showInHeader>true</showInHeader>
      <headerHorizontalAlign>Left</headerHorizontalAlign>
      <showInFooter>true</showInFooter>
      <extInfo xsi:type="form:LabelFieldExtInfo">
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
      </extInfo>
    </items>
    <items xsi:type="form:FormField">
      <name>Номер</name>
      <id>22</id>
      <visible>true</visible>
      <enabled>true</enabled>
      <userVisible/>
      <dataPath xsi:type="form:DataPath">
        <segments>Список.Number</segments>
      </dataPath>
      <extendedTooltip>
        <name>НомерРасширеннаяПодсказка</name>
        <id>24</id>
        <type>Label</type>
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
        <extInfo xsi:type="form:LabelDecorationExtInfo">
          <horizontalAlign>Left</horizontalAlign>
        </extInfo>
      </extendedTooltip>
      <contextMenu>
        <name>НомерКонтекстноеМеню</name>
        <id>23</id>
        <autoFill>true</autoFill>
      </contextMenu>
      <type>LabelField</type>
      <editMode>Enter</editMode>
      <showInHeader>true</showInHeader>
      <headerHorizontalAlign>Left</headerHorizontalAlign>
      <showInFooter>true</showInFooter>
      <extInfo xsi:type="form:LabelFieldExtInfo">
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
      </extInfo>
    </items>
    <items xsi:type="form:FormField">
      <name>Наименование</name>
      <id>34</id>
      <visible>true</visible>
      <enabled>true</enabled>
      <userVisible>
        <common>true</common>
      </userVisible>
      <dataPath xsi:type="form:DataPath">
        <segments>Список.Наименование</segments>
      </dataPath>
      <extendedTooltip>
        <name>НаименованиеРасширеннаяПодсказка</name>
        <id>36</id>
        <type>Label</type>
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
        <extInfo xsi:type="form:LabelDecorationExtInfo">
          <horizontalAlign>Left</horizontalAlign>
        </extInfo>
      </extendedTooltip>
      <contextMenu>
        <name>НаименованиеКонтекстноеМеню</name>
        <id>35</id>
        <autoFill>true</autoFill>
      </contextMenu>
      <type>LabelField</type>
      <editMode>Enter</editMode>
      <showInHeader>true</showInHeader>
      <headerHorizontalAlign>Left</headerHorizontalAlign>
      <showInFooter>true</showInFooter>
      <extInfo xsi:type="form:LabelFieldExtInfo">
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
      </extInfo>
    </items>
    <items xsi:type="form:FormField">
      <name>НомерАддендума</name>
      <id>40</id>
      <visible>true</visible>
      <enabled>true</enabled>
      <userVisible>
        <common>true</common>
      </userVisible>
      <dataPath xsi:type="form:DataPath">
        <segments>Список.НомерАддендума</segments>
      </dataPath>
      <extendedTooltip>
        <name>НомерАддендумаРасширеннаяПодсказка</name>
        <id>42</id>
        <type>Label</type>
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
        <extInfo xsi:type="form:LabelDecorationExtInfo">
          <horizontalAlign>Left</horizontalAlign>
        </extInfo>
      </extendedTooltip>
      <contextMenu>
        <name>НомерАддендумаКонтекстноеМеню</name>
        <id>41</id>
        <autoFill>true</autoFill>
      </contextMenu>
      <type>LabelField</type>
      <editMode>Enter</editMode>
      <showInHeader>true</showInHeader>
      <headerHorizontalAlign>Left</headerHorizontalAlign>
      <showInFooter>true</showInFooter>
      <extInfo xsi:type="form:LabelFieldExtInfo">
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
      </extInfo>
    </items>
    <items xsi:type="form:FormField">
      <name>ДатаАддендума</name>
      <id>43</id>
      <visible>true</visible>
      <enabled>true</enabled>
      <userVisible>
        <common>true</common>
      </userVisible>
      <dataPath xsi:type="form:DataPath">
        <segments>Список.ДатаАддендума</segments>
      </dataPath>
      <extendedTooltip>
        <name>ДатаАддендумаРасширеннаяПодсказка</name>
        <id>45</id>
        <type>Label</type>
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
        <extInfo xsi:type="form:LabelDecorationExtInfo">
          <horizontalAlign>Left</horizontalAlign>
        </extInfo>
      </extendedTooltip>
      <contextMenu>
        <name>ДатаАддендумаКонтекстноеМеню</name>
        <id>44</id>
        <autoFill>true</autoFill>
      </contextMenu>
      <type>LabelField</type>
      <editMode>Enter</editMode>
      <showInHeader>true</showInHeader>
      <headerHorizontalAlign>Left</headerHorizontalAlign>
      <showInFooter>true</showInFooter>
      <extInfo xsi:type="form:LabelFieldExtInfo">
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
      </extInfo>
    </items>
    <items xsi:type="form:FormField">
      <name>Договор</name>
      <id>28</id>
      <visible>true</visible>
      <enabled>true</enabled>
      <userVisible>
        <common>true</common>
      </userVisible>
      <dataPath xsi:type="form:DataPath">
        <segments>Список.Договор</segments>
      </dataPath>
      <extendedTooltip>
        <name>ДоговорРасширеннаяПодсказка</name>
        <id>30</id>
        <type>Label</type>
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
        <extInfo xsi:type="form:LabelDecorationExtInfo">
          <horizontalAlign>Left</horizontalAlign>
        </extInfo>
      </extendedTooltip>
      <contextMenu>
        <name>ДоговорКонтекстноеМеню</name>
        <id>29</id>
        <autoFill>true</autoFill>
      </contextMenu>
      <type>LabelField</type>
      <editMode>Enter</editMode>
      <showInHeader>true</showInHeader>
      <headerHorizontalAlign>Left</headerHorizontalAlign>
      <showInFooter>true</showInFooter>
      <extInfo xsi:type="form:LabelFieldExtInfo">
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
      </extInfo>
    </items>
    <items xsi:type="form:FormField">
      <name>Контрагент</name>
      <id>31</id>
      <visible>true</visible>
      <enabled>true</enabled>
      <userVisible>
        <common>true</common>
      </userVisible>
      <dataPath xsi:type="form:DataPath">
        <segments>Список.Контрагент</segments>
      </dataPath>
      <extendedTooltip>
        <name>КонтрагентРасширеннаяПодсказка</name>
        <id>33</id>
        <type>Label</type>
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
        <extInfo xsi:type="form:LabelDecorationExtInfo">
          <horizontalAlign>Left</horizontalAlign>
        </extInfo>
      </extendedTooltip>
      <contextMenu>
        <name>КонтрагентКонтекстноеМеню</name>
        <id>32</id>
        <autoFill>true</autoFill>
      </contextMenu>
      <type>LabelField</type>
      <editMode>Enter</editMode>
      <showInHeader>true</showInHeader>
      <headerHorizontalAlign>Left</headerHorizontalAlign>
      <showInFooter>true</showInFooter>
      <extInfo xsi:type="form:LabelFieldExtInfo">
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
      </extInfo>
    </items>
    <items xsi:type="form:FormField">
      <name>Комментарий</name>
      <id>37</id>
      <visible>true</visible>
      <enabled>true</enabled>
      <userVisible>
        <common>true</common>
      </userVisible>
      <dataPath xsi:type="form:DataPath">
        <segments>Список.Комментарий</segments>
      </dataPath>
      <extendedTooltip>
        <name>КомментарийРасширеннаяПодсказка</name>
        <id>39</id>
        <type>Label</type>
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
        <extInfo xsi:type="form:LabelDecorationExtInfo">
          <horizontalAlign>Left</horizontalAlign>
        </extInfo>
      </extendedTooltip>
      <contextMenu>
        <name>КомментарийКонтекстноеМеню</name>
        <id>38</id>
        <autoFill>true</autoFill>
      </contextMenu>
      <type>LabelField</type>
      <editMode>Enter</editMode>
      <showInHeader>true</showInHeader>
      <headerHorizontalAlign>Left</headerHorizontalAlign>
      <showInFooter>true</showInFooter>
      <extInfo xsi:type="form:LabelFieldExtInfo">
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
      </extInfo>
    </items>
    <items xsi:type="form:FormField">
      <name>Организация</name>
      <id>25</id>
      <visible>true</visible>
      <enabled>true</enabled>
      <userVisible>
        <common>true</common>
      </userVisible>
      <dataPath xsi:type="form:DataPath">
        <segments>Список.Организация</segments>
      </dataPath>
      <extendedTooltip>
        <name>ОрганизацияРасширеннаяПодсказка</name>
        <id>27</id>
        <type>Label</type>
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
        <extInfo xsi:type="form:LabelDecorationExtInfo">
          <horizontalAlign>Left</horizontalAlign>
        </extInfo>
      </extendedTooltip>
      <contextMenu>
        <name>ОрганизацияКонтекстноеМеню</name>
        <id>26</id>
        <autoFill>true</autoFill>
      </contextMenu>
      <type>LabelField</type>
      <editMode>Enter</editMode>
      <showInHeader>true</showInHeader>
      <headerHorizontalAlign>Left</headerHorizontalAlign>
      <showInFooter>true</showInFooter>
      <extInfo xsi:type="form:LabelFieldExtInfo">
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
      </extInfo>
    </items>
    <commandBarLocation>None</commandBarLocation>
    <autoCommandBar>
      <name>СписокКоманднаяПанель</name>
      <id>5</id>
      <horizontalAlign>Left</horizontalAlign>
    </autoCommandBar>
    <searchStringAddition>
      <name>СписокСтрокаПоиска</name>
      <id>7</id>
      <extendedTooltip>
        <name>СписокСтрокаПоискаРасширеннаяПодсказка</name>
        <id>9</id>
        <type>Label</type>
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
        <extInfo xsi:type="form:LabelDecorationExtInfo">
          <horizontalAlign>Left</horizontalAlign>
        </extInfo>
      </extendedTooltip>
      <contextMenu>
        <name>СписокСтрокаПоискаКонтекстноеМеню</name>
        <id>8</id>
        <autoFill>true</autoFill>
      </contextMenu>
      <source>Список</source>
      <extInfo xsi:type="form:SearchStringAdditionExtInfo">
        <autoMaxWidth>true</autoMaxWidth>
      </extInfo>
    </searchStringAddition>
    <viewStatusAddition>
      <name>СписокСостояниеПросмотра</name>
      <id>10</id>
      <extendedTooltip>
        <name>СписокСостояниеПросмотраРасширеннаяПодсказка</name>
        <id>12</id>
        <type>Label</type>
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
        <extInfo xsi:type="form:LabelDecorationExtInfo">
          <horizontalAlign>Left</horizontalAlign>
        </extInfo>
      </extendedTooltip>
      <contextMenu>
        <name>СписокСостояниеПросмотраКонтекстноеМеню</name>
        <id>11</id>
        <autoFill>true</autoFill>
      </contextMenu>
      <type>ViewStatusAddition</type>
      <source>Список</source>
      <extInfo xsi:type="form:ViewStatusAdditionExtInfo">
        <autoMaxWidth>true</autoMaxWidth>
      </extInfo>
    </viewStatusAddition>
    <searchControlAddition>
      <name>СписокУправлениеПоиском</name>
      <id>13</id>
      <extendedTooltip>
        <name>СписокУправлениеПоискомРасширеннаяПодсказка</name>
        <id>15</id>
        <type>Label</type>
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
        <extInfo xsi:type="form:LabelDecorationExtInfo">
          <horizontalAlign>Left</horizontalAlign>
        </extInfo>
      </extendedTooltip>
      <contextMenu>
        <name>СписокУправлениеПоискомКонтекстноеМеню</name>
        <id>14</id>
        <autoFill>true</autoFill>
      </contextMenu>
      <type>SearchControlAddition</type>
      <source>Список</source>
      <extInfo xsi:type="form:SearchControlAdditionExtInfo">
        <autoMaxWidth>true</autoMaxWidth>
      </extInfo>
    </searchControlAddition>
    <extendedTooltip>
      <name>СписокРасширеннаяПодсказка</name>
      <id>6</id>
      <type>Label</type>
      <autoMaxWidth>true</autoMaxWidth>
      <autoMaxHeight>true</autoMaxHeight>
      <extInfo xsi:type="form:LabelDecorationExtInfo">
        <horizontalAlign>Left</horizontalAlign>
      </extInfo>
    </extendedTooltip>
    <contextMenu>
      <name>СписокКонтекстноеМеню</name>
      <id>4</id>
      <autoFill>true</autoFill>
    </contextMenu>
    <changeRowSet>true</changeRowSet>
    <changeRowOrder>true</changeRowOrder>
    <autoMaxWidth>true</autoMaxWidth>
    <autoMaxHeight>true</autoMaxHeight>
    <autoMaxRowsCount>true</autoMaxRowsCount>
    <selectionMode>MultiRow</selectionMode>
    <header>true</header>
    <headerHeight>1</headerHeight>
    <footerHeight>1</footerHeight>
    <horizontalScrollBar>AutoUse</horizontalScrollBar>
    <verticalScrollBar>AutoUse</verticalScrollBar>
    <horizontalLines>true</horizontalLines>
    <verticalLines>true</verticalLines>
    <useAlternationRowColor>true</useAlternationRowColor>
    <searchOnInput>Auto</searchOnInput>
    <initialListView>Auto</initialListView>
    <initialTreeView>ExpandTopLevel</initialTreeView>
    <horizontalStretch>true</horizontalStretch>
    <verticalStretch>true</verticalStretch>
    <enableStartDrag>true</enableStartDrag>
    <fileDragMode>AsFileRef</fileDragMode>
    <rowPictureDataPath xsi:type="form:DataPath">
      <segments>Список.DefaultPicture</segments>
    </rowPictureDataPath>
    <extInfo xsi:type="form:DynamicListTableExtInfo">
      <autoRefreshPeriod>60</autoRefreshPeriod>
      <period>
        <startDate>0001-01-01T00:00:00</startDate>
        <endDate>0001-01-01T00:00:00</endDate>
      </period>
      <topLevelParent xsi:type="core:UndefinedValue"/>
      <showRoot>true</showRoot>
      <allowGettingCurrentRowURL>true</allowGettingCurrentRowURL>
      <userSettingsGroup>СписокКомпоновщикНастроекПользовательскиеНастройки</userSettingsGroup>
    </extInfo>
  </items>
  <autoCommandBar>
    <name>ФормаКоманднаяПанель</name>
    <id>-1</id>
    <horizontalAlign>Left</horizontalAlign>
    <autoFill>true</autoFill>
  </autoCommandBar>
  <handlers>
    <event>OnCreateAtServer</event>
    <name>ПриСозданииНаСервере</name>
  </handlers>
  <saveWindowSettings>true</saveWindowSettings>
  <autoTitle>true</autoTitle>
  <autoUrl>true</autoUrl>
  <group>Vertical</group>
  <autoFillCheck>true</autoFillCheck>
  <allowFormCustomize>true</allowFormCustomize>
  <enabled>true</enabled>
  <showTitle>true</showTitle>
  <showCloseButton>true</showCloseButton>
  <attributes>
    <name>Список</name>
    <id>1</id>
    <valueType>
      <types>DynamicList</types>
    </valueType>
    <view>
      <common>true</common>
    </view>
    <edit>
      <common>true</common>
    </edit>
    <main>true</main>
    <extInfo xsi:type="form:DynamicListExtInfo">
      <queryText>ВЫБРАТЬ РАЗРЕШЕННЫЕ
	алк_ПараметрыХарактеристик.Характеристика.Владелец КАК Номенклатура,
	алк_ПараметрыХарактеристик.Характеристика КАК Характеристика,
	&amp;Количество КАК КоличествоОстаток,
	алк_ПараметрыХарактеристик.Порода КАК Порода,
	ЕСТЬNULL(алк_ПараметрыХарактеристик.Сорт, ЗНАЧЕНИЕ(Справочник.Сорта.ПустаяСсылка)) КАК Сорт,
	алк_ПараметрыХарактеристик.Сечение КАК Сечение,
	алк_ПараметрыХарактеристик.Длина.ДлинаММ КАК ДлинаДлинаММ,
	алк_ПараметрыХарактеристик.Сечение.ШиринаММ КАК СечениеШиринаММ,
	алк_ПараметрыХарактеристик.Сечение.ТолщинаММ КАК СечениеТолщинаММ,
	ЕСТЬNULL(алк_ПараметрыХарактеристик.Влажность.ЗначениеВлажности, 100) КАК Влажность
ПОМЕСТИТЬ ВТ_Остатки
ИЗ
	РегистрСведений.алк_ПараметрыХарактеристик КАК алк_ПараметрыХарактеристик
ГДЕ
	алк_ПараметрыХарактеристик.Характеристика = &amp;Характеристика
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВТ_Остатки.Номенклатура КАК Номенклатура,
	ВТ_Остатки.Характеристика КАК Характеристика,
	ВТ_Остатки.КоличествоОстаток КАК КоличествоОстаток,
	ВТ_Остатки.Порода КАК Порода,
	ВТ_Остатки.Сечение КАК Сечение,
	ВТ_Остатки.ДлинаДлинаММ КАК ДлинаДлинаММ,
	ВТ_Остатки.СечениеШиринаММ КАК СечениеШиринаММ,
	ВТ_Остатки.СечениеТолщинаММ КАК СечениеТолщинаММ,
	ЕСТЬNULL(&amp;Припуск, ЗНАЧЕНИЕ(Справочник.алк_ВариантыПрипуска.пустаяСсылка)) КАК Припуск,
	ВТ_Остатки.Влажность КАК Влажность,
	ВТ_Остатки.Сорт КАК Сорт
ПОМЕСТИТЬ ВТ_СН_Параметры
ИЗ
	ВТ_Остатки КАК ВТ_Остатки
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	алк_АддендумыСоставТоваров.ИдентификаторТовара КАК ИдентификаторТовара,
	алк_АддендумыСоставТоваров.Порода КАК Порода,
	алк_АддендумыСоставТоваров.Сорт КАК Сорт,
	алк_АддендумыСоставТоваров.ШиринаОт КАК ШиринаОт,
	ВЫБОР
		КОГДА алк_АддендумыСоставТоваров.ШиринаДо = 0
			ТОГДА 99999
		ИНАЧЕ алк_АддендумыСоставТоваров.ШиринаДо
	КОНЕЦ КАК ШиринаДо,
	алк_АддендумыСоставТоваров.ТолщинаОт КАК ТолщинаОт,
	ВЫБОР
		КОГДА алк_АддендумыСоставТоваров.ТолщинаДо = 0
			ТОГДА 99999
		ИНАЧЕ алк_АддендумыСоставТоваров.ТолщинаДо
	КОНЕЦ КАК ТолщинаДо,
	алк_АддендумыСоставТоваров.ДлинаОт КАК ДлинаОт,
	ВЫБОР
		КОГДА алк_АддендумыСоставТоваров.ДлинаДо = 0
			ТОГДА 999999
		ИНАЧЕ алк_АддендумыСоставТоваров.ДлинаДо
	КОНЕЦ КАК ДлинаДо,
	алк_АддендумыСоставТоваров.ВлажностьОт КАК ВлажностьОт,
	ВЫБОР
		КОГДА алк_АддендумыСоставТоваров.ВлажностьДо = 0
			ТОГДА 100
		ИНАЧЕ алк_АддендумыСоставТоваров.ВлажностьДо
	КОНЕЦ КАК ВлажностьДо,
	алк_АддендумыСоставТоваров.ВариантПрипуска КАК Припуск,
	алк_АддендумыТовары.Номенклатура КАК Номенклатура,
	алк_АддендумыОстатки.Аддендум КАК Аддендум
ПОМЕСТИТЬ ВТ_Адд_Параметры
ИЗ
	РегистрНакопления.алк_Аддендумы.Остатки КАК алк_АддендумыОстатки
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Документ.алк_Аддендумы.СоставТоваров КАК алк_АддендумыСоставТоваров
			ВНУТРЕННЕЕ СОЕДИНЕНИЕ Документ.алк_Аддендумы.Товары КАК алк_АддендумыТовары
			ПО алк_АддендумыСоставТоваров.Ссылка = алк_АддендумыТовары.Ссылка
				И алк_АддендумыСоставТоваров.ИдентификаторТовара = алк_АддендумыТовары.ИдентификаторТовара
		ПО алк_АддендумыОстатки.Аддендум = алк_АддендумыСоставТоваров.Ссылка
			И алк_АддендумыОстатки.ИдентификаторТовара = алк_АддендумыСоставТоваров.ИдентификаторТовара
ГДЕ
	алк_АддендумыОстатки.КПроизводствуОстаток > 0
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВТ_Адд_Параметры.Аддендум КАК Аддендум,
	МАКСИМУМ(ВТ_Адд_Параметры.ИдентификаторТовара) КАК ИдентификаторТовара,
	ВТ_СН_Параметры.Номенклатура КАК Номенклатура,
	ВТ_СН_Параметры.Характеристика КАК Характеристика,
	ВТ_СН_Параметры.КоличествоОстаток КАК КоличествоОстаток
ПОМЕСТИТЬ ВТ_ОтборАддендум
ИЗ
	ВТ_СН_Параметры КАК ВТ_СН_Параметры
		ЛЕВОЕ СОЕДИНЕНИЕ ВТ_Адд_Параметры КАК ВТ_Адд_Параметры
		ПО ВТ_СН_Параметры.Номенклатура = ВТ_Адд_Параметры.Номенклатура
			И ВТ_СН_Параметры.Порода = ВТ_Адд_Параметры.Порода
			И ВТ_СН_Параметры.ДлинаДлинаММ >= ВТ_Адд_Параметры.ДлинаОт
			И ВТ_СН_Параметры.ДлинаДлинаММ &lt;= ВТ_Адд_Параметры.ДлинаДо
			И ВТ_СН_Параметры.СечениеШиринаММ >= ВТ_Адд_Параметры.ШиринаОт
			И ВТ_СН_Параметры.СечениеШиринаММ &lt;= ВТ_Адд_Параметры.ШиринаДо
			И ВТ_СН_Параметры.СечениеТолщинаММ >= ВТ_Адд_Параметры.ТолщинаОт
			И ВТ_СН_Параметры.СечениеТолщинаММ &lt;= ВТ_Адд_Параметры.ТолщинаДо
			И (ВТ_СН_Параметры.Припуск = ВТ_Адд_Параметры.Припуск
				ИЛИ ВТ_Адд_Параметры.Припуск = ЗНАЧЕНИЕ(Справочник.алк_вариантыПрипуска.ПустаяСсылка))
			И (ВТ_СН_Параметры.Сорт = ВТ_Адд_Параметры.Сорт
				ИЛИ ВТ_Адд_Параметры.Сорт = ЗНАЧЕНИЕ(Справочник.Сорта.Пустаяссылка))
			И ВТ_СН_Параметры.Влажность >= ВТ_Адд_Параметры.ВлажностьОт
			И ВТ_СН_Параметры.Влажность &lt;= ВТ_Адд_Параметры.ВлажностьДо

СГРУППИРОВАТЬ ПО
	ВТ_СН_Параметры.Номенклатура,
	ВТ_СН_Параметры.Характеристика,
	ВТ_СН_Параметры.КоличествоОстаток,
	ВТ_Адд_Параметры.Аддендум
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	алк_Аддендумы.Ссылка КАК Ссылка,
	алк_Аддендумы.ВерсияДанных КАК ВерсияДанных,
	алк_Аддендумы.ПометкаУдаления КАК ПометкаУдаления,
	алк_Аддендумы.Номер КАК Номер,
	алк_Аддендумы.Дата КАК Дата,
	алк_Аддендумы.Проведен КАК Проведен,
	алк_Аддендумы.Организация КАК Организация,
	алк_Аддендумы.Договор КАК Договор,
	алк_Аддендумы.Контрагент КАК Контрагент,
	алк_Аддендумы.Наименование КАК Наименование,
	алк_Аддендумы.Менеджер КАК Менеджер,
	алк_Аддендумы.Ответственный КАК Ответственный,
	алк_Аддендумы.Статус КАК Статус,
	алк_Аддендумы.ОжидаемыйСрокПроизводства КАК ОжидаемыйСрокПроизводства,
	алк_Аддендумы.ОжидаемыйСрокОтгрузки КАК ОжидаемыйСрокОтгрузки,
	алк_Аддендумы.Комментарий КАК Комментарий,
	алк_Аддендумы.КодУсловийПоставки КАК КодУсловийПоставки,
	алк_Аддендумы.НомерАддендума КАК НомерАддендума,
	алк_Аддендумы.ДатаАддендума КАК ДатаАддендума,
	алк_Аддендумы.Валюта КАК Валюта,
	алк_Аддендумы.Товары.(
		Ссылка КАК Ссылка,
		НомерСтроки КАК НомерСтроки,
		Номенклатура КАК Номенклатура,
		ИдентификаторТовара КАК ИдентификаторТовара,
		Количество КАК Количество,
		Цена КАК Цена,
		Сумма КАК Сумма,
		ПредставлениеТовара КАК ПредставлениеТовара,
		ПредставлениеВручную КАК ПредставлениеВручную
	),
	алк_Аддендумы.СоставТоваров.(
		Ссылка КАК Ссылка,
		НомерСтроки КАК НомерСтроки,
		ИдентификаторТовара КАК ИдентификаторТовара,
		Порода КАК Порода,
		Сорт КАК Сорт,
		ШиринаОт КАК ШиринаОт,
		ШиринаДо КАК ШиринаДо,
		ТолщинаОт КАК ТолщинаОт,
		ТолщинаДо КАК ТолщинаДо,
		ДлинаОт КАК ДлинаОт,
		ДлинаДо КАК ДлинаДо,
		ВлажностьОт КАК ВлажностьОт,
		ВлажностьДо КАК ВлажностьДо,
		ВариантПрипуска КАК ВариантПрипуска
	),
	алк_Аддендумы.Представление КАК Представление,
	алк_Аддендумы.МоментВремени КАК МоментВремени
ИЗ
	Документ.алк_Аддендумы КАК алк_Аддендумы
ГДЕ
	(НЕ &amp;отборПоХарактеристике
			ИЛИ алк_Аддендумы.Ссылка В
				(ВЫБРАТЬ
					ВТ.Аддендум
				ИЗ
					ВТ_ОтборАддендум КАК ВТ))
	И (&amp;Номенклатура = ЗНАЧЕНИЕ(справочник.Номенклатура.ПустаяСсылка)
			ИЛИ алк_Аддендумы.Товары.Номенклатура = &amp;Номенклатура)</queryText>
      <mainTable>Document.алк_Аддендумы</mainTable>
      <dynamicDataRead>true</dynamicDataRead>
      <autoFillAvailableFields>true</autoFillAvailableFields>
      <customQuery>true</customQuery>
      <autoSaveUserSettings>true</autoSaveUserSettings>
      <getInvisibleFieldPresentations>true</getInvisibleFieldPresentations>
    </extInfo>
  </attributes>
  <attributes>
    <name>ТребуетсяОтборПоХарактеристике</name>
    <title>
      <key>ru</key>
      <value>Требуется отбор по характеристике</value>
    </title>
    <id>2</id>
    <valueType>
      <types>Boolean</types>
    </valueType>
    <view>
      <common>true</common>
    </view>
    <edit>
      <common>true</common>
    </edit>
  </attributes>
  <commandInterface>
    <navigationPanel/>
    <commandBar/>
  </commandInterface>
  <extInfo xsi:type="form:DynamicListFormExtInfo"/>
</form:Form>
